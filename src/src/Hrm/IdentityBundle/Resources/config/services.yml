services:

    _defaults:
        autowire: true
        autoconfigure: true

    # Controller
    App\Hrm\IdentityBundle\Controller\:
        autowire: true
        resource: '../../Controller'
        tags: ['controller.service_arguments']

    # Fixture
    App\Hrm\IdentityBundle\DataFixtures\:
        autowire: true
        resource: '../../DataFixtures'
        tags: ['doctrine.fixture.orm']

    # Message Handler
    App\Hrm\Identity\MessageHandler\:
        resource: '%kernel.project_dir%/src/Hrm/Identity/MessageHandler'
        tags: ['messenger.message_handler']

    # Security
    App\Hrm\IdentityBundle\Security\LoginFormAuthenticator: ~
    App\Hrm\IdentityBundle\Security\UserProvider: ~


    # Service

    App\Hrm\IdentityBundle\Service\SymfonyHashPassword: ~
    App\Hrm\Identity\Service\HashPassword: '@App\Hrm\IdentityBundle\Service\SymfonyHashPassword'
    

    # Repository

    App\Hrm\Identity\Repository\AccountRepository: '@App\Hrm\IdentityBundle\Repository\DoctrineAccountRepository'
    App\Hrm\IdentityBundle\Repository\DoctrineAccountRepository:
        factory: ['@doctrine', getRepository]
        arguments:
            - App\Hrm\Identity\Model\Account

    App\Hrm\Identity\Repository\ProfileRepository: '@App\Hrm\IdentityBundle\Repository\DoctrineProfileRepository'
    App\Hrm\IdentityBundle\Repository\DoctrineProfileRepository:
        factory: ['@doctrine', getRepository]
        arguments:
            - App\Hrm\Identity\Model\Profile

    App\Hrm\Identity\Repository\ContactRepository: '@App\Hrm\IdentityBundle\Repository\DoctrineContactRepository'
    App\Hrm\IdentityBundle\Repository\DoctrineContactRepository:
        factory: ['@doctrine', getRepository]
        arguments:
            - App\Hrm\Identity\Model\Contact
